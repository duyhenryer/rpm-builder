# Micro Platform - Redis Configuration
# This configuration file is included in the main Redis config
# Location: /etc/redis/micro-platform-redis.conf

# Network configuration
# Bind to localhost only for security (only accessible from localhost)
bind 127.0.0.1

# Port configuration
# Default Redis port
port 6379

# General configuration
# Disable protected mode since we're binding to localhost
protected-mode no

# Memory management
# Set maximum memory (256MB by default, adjust as needed)
maxmemory 256mb
# Eviction policy: remove least recently used keys when memory limit is reached
maxmemory-policy allkeys-lru

# Persistence (optional - disable for pure cache use)
# Disable RDB snapshots for pure caching (uncomment to enable)
# save ""
save 900 1
save 300 10
save 60 10000

# AOF (Append Only File) persistence
# Disable AOF for pure caching (uncomment to enable)
appendonly no

# Logging
# Set log level (notice, warning, verbose, debug)
loglevel notice

# Client connection settings
# Maximum number of connected clients
maxclients 10000

# Timeout for idle clients (0 = disabled)
timeout 300

# Performance tuning for caching
# TCP keepalive
tcp-keepalive 300

# Disable slowlog for cache workloads
# slowlog-log-slower-than 10000
# slowlog-max-len 128

# Disable unnecessary features for caching
# Disable commands that are not needed for cache
# rename-command FLUSHDB ""
# rename-command FLUSHALL ""

# Connection limits and security
# Require password (optional - set if needed)
# requirepass your-secure-password-here

# Lua scripting timeout (in milliseconds)
lua-time-limit 5000

